<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.22" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>NodeCG: LmoWiki â€” my personal web notebook</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="NodeCG"><div class="tc-tiddler-title">
<div class="tc-titlebar">
<span class="tc-tiddler-controls">
<span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><span class=" tc-reveal"><button aria-label="fold tiddler" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Ffold" title="Fold the body of this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span></span><span class=" tc-reveal"><button aria-label="open in new window" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fopen-window" title="Open tiddler in new window"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span>
</span>

<span>

<span class="tc-tiddler-title-icon" style="fill:;">

</span>



<h2 class="tc-title">
NodeCG
</h2>

</span>

</div>

<div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div>
</div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>14th May 2020 at 4:29pm</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"></div>
</div>

<div class="tc-tiddler-body tc-reveal"><p>Create broadcast graphics using Node.js and a browser.</p><h2 class="">My bundles:</h2><ul><li><a class="tc-tiddlylink-external" href="https://github.com/lmorchard/nodecg-sam-say" rel="noopener noreferrer" target="_blank">https://github.com/lmorchard/nodecg-sam-say</a></li><li><a class="tc-tiddlylink-external" href="https://github.com/lmorchard/nodecg-file-watcher" rel="noopener noreferrer" target="_blank">https://github.com/lmorchard/nodecg-file-watcher</a></li></ul><h2 class="">Notes</h2><p><a class="tc-tiddlylink tc-tiddlylink-resolves" href="NodeCG.html">NodeCG</a> is pretty skeletal, but it offers some really interesting structure:</p><ul><li>Bundles, which contain:<ul><li>Dashboard panels</li><li>Graphics pages</li><li>Server-side Extensions</li><li>A package.json based manifest for overall declarative configuration</li></ul></li><li>Websocket-based isomorphic API for:<ul><li>Sending &amp; receiving messages in client-side dashboard, client-side graphics, and server-side extensions</li><li>Replicant variables whose values are sync'd across dashboards, graphics, and extensions</li></ul></li><li>An express-based web server that's easy to:<ul><li>Mount new static file paths from within bundles</li><li>Mount new express Custom Routes from server-side extension scripts</li></ul></li><li>A master dashboard / control panel UI that provides:<ul><li>An overall UI to manage dashboard panels from all bundles, organized into workspaces</li><li>An inventory of all graphics pages from all bundles</li><li>Media upload management for images, sounds, videos, etc.</li><li>A master mixer panel for playing sounds (still need to investigate this one)</li></ul></li><li>And misc other things like:<ul><li>Configuration</li><li>Logging</li><li>Audio management in graphics</li><li>Seems to use polymer &amp; web components for it's UI</li></ul></li></ul><h2 class="">Prose</h2><p>This thing is looking really promising as a new backbone for what I'm trying to do with <a class="tc-tiddlylink tc-tiddlylink-resolves" href="CaffeinaBot.html">CaffeinaBot</a>.</p><p>Also kind of want to blog about this stuff. <a class="tc-tiddlylink tc-tiddlylink-resolves" href="NodeCG.html">NodeCG</a> has a neat architecture that pretty much matches what I've played around with building in my last two attempts at a <a class="tc-tiddlylink tc-tiddlylink-resolves" href="StreamBot.html">StreamBot</a>.</p><p><a class="tc-tiddlylink tc-tiddlylink-resolves" href="NodeCG.html">NodeCG</a> has a concept of dashboards and graphics. Dashboard panels are the web UI from which you control things. Graphics are web pages you load up into OBS as browser sources. </p><p>There's a web socket messaging system between dashboard panels and graphics, which allow you to directly control the graphics.</p><p>There are also server-side extension scripts that can hook into the express web server, run various server-side integrations (e.g. Twitch chat? OBS websockets?)</p><p>There's an API object that's mostly isomorphic between server extensions, dashboard panels, and graphics pages. That's super cool. This means that I can send a message from the server and receive it in a panel or a graphics page, or vice versa.</p><p>There's also the concept of &quot;replicants&quot; - variables whose values are kept in sync between server, dashboard, and graphics. That is, if you change the value of a replicant in a dashboard, both graphics and server-side extension code receive the change and can react to it. That means I can set up input fields on a dashboard panel to tweak things in graphics, or the server can tweak values to update both dashboard and graphics. Oh, and replicant values are persisted to disk - so when the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="NodeCG.html">NodeCG</a> server restarts, all the previous state is restored.</p><p>For both replicants and events, all the messaging and sync details handled over websockets are abstracted away into a simple API. So I don't have to worry about how any of that works</p><h2 class="">Links</h2><ul><li><a class="tc-tiddlylink-external" href="https://github.com/nodecg/nodecg" rel="noopener noreferrer" target="_blank">https://github.com/nodecg/nodecg</a></li><li><a class="tc-tiddlylink-external" href="https://twitter.com/nodecg" rel="noopener noreferrer" target="_blank">https://twitter.com/nodecg</a></li></ul></div>
<span class="viewtemplatebigtext"><div class=" tc-reveal"><hr><p><a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252011.html">2020 / 05 / 11</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252013.html">2020 / 05 / 13</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252014%2520-%2520stream%2520notes.html">2020 / 05 / 14 - stream notes</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252015.html">2020 / 05 / 15</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252016.html">2020 / 05 / 16</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252016%2520-%2520stream%2520notes.html">2020 / 05 / 16 - stream notes</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252018.html">2020 / 05 / 18</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="2020%2520%252F%252005%2520%252F%252019.html">2020 / 05 / 19</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="BlogPostIdeas.html">BlogPostIdeas</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="StreamAutomation.html">StreamAutomation</a>
<span class=" tc-reveal">
<button class="tc-btn-invisible"><svg class="tc-image-unfold tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="16" rx="8" width="128"></rect><path d="M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z"></path></g></svg></button><br>
</span>
<span class=" tc-reveal" hidden="true"></span>
</p></div></span>



</div>

</p>
</section>
</body>
</html>
